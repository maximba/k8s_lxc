=================================================
Install Istio WITHOUT automatic sidecar injection
=================================================
1.- Download Istio
> curl -L https://git.io/getLatestIstio | sh - 

2. Install CRDs
> cd istio-${ISTIO_VERSION}
> for i in install/kubernetes/helm/istio-init/files/crd*yaml; do kubectl apply -f $i; done

3. Create istio-system namespace and label it with injection disabled
> cat <<EOF | kubectl apply -f -
>   apiVersion: v1
>   kind: Namespace
>   metadata:
>     name: istio-system
>     labels:
>       istio-injection: disabled
>    EOF

4. Follow Instructions
(https://knative.dev/docs/install/installing-istio/#installing-istio-without-sidecar-injection)

# A lighter template, with just pilot/gateway.
# Based on install/kubernetes/helm/istio/values-istio-minimal.yaml
> helm template --namespace=istio-system \
  --set prometheus.enabled=false \
  --set mixer.enabled=false \
  --set mixer.policy.enabled=false \
  --set mixer.telemetry.enabled=false \
  `# Pilot doesn't need a sidecar.` \
  --set pilot.sidecar=false \
  --set pilot.resources.requests.memory=128Mi \
  `# Disable galley (and things requiring galley).` \
  --set galley.enabled=false \
  --set global.useMCP=false \
  `# Disable security / policy.` \
  --set security.enabled=false \
  --set global.disablePolicyChecks=true \
  `# Disable sidecar injection.` \
  --set sidecarInjectorWebhook.enabled=false \
  --set global.proxy.autoInject=disabled \
  --set global.omitSidecarInjectorConfigMap=true \
  `# Set gateway pods to 1 to sidestep eventual consistency / readiness problems.` \
  --set gateways.istio-ingressgateway.autoscaleMin=1 \
  --set gateways.istio-ingressgateway.autoscaleMax=1 \
  `# Set pilot trace sampling to 100%` \
  --set pilot.traceSampling=100 \
  install/kubernetes/helm/istio \
  > ./istio-lean.yaml

> kubectl apply -f istio-lean.yaml
